# Examples

This section provides practical examples of common Zodula patterns and use cases.

## Basic CRUD Operations

### Creating a Simple Blog System

Let's build a basic blog with Posts and Comments.

#### 1. Define the Post DocType

```json
{
  "name": "Blog Post",
  "module": "Blog",
  "fields": [
    {
      "fieldname": "title",
      "fieldtype": "Data",
      "label": "Title",
      "reqd": 1
    },
    {
      "fieldname": "content",
      "fieldtype": "Text",
      "label": "Content",
      "reqd": 1
    },
    {
      "fieldname": "author",
      "fieldtype": "Link",
      "label": "Author",
      "options": "User",
      "reqd": 1
    },
    {
      "fieldname": "published",
      "fieldtype": "Check",
      "label": "Published",
      "default": 0
    },
    {
      "fieldname": "publish_date",
      "fieldtype": "Date",
      "label": "Publish Date"
    }
  ]
}
```

#### 2. Define the Comment DocType

```json
{
  "name": "Blog Comment",
  "module": "Blog",
  "fields": [
    {
      "fieldname": "post",
      "fieldtype": "Link",
      "label": "Post",
      "options": "Blog Post",
      "reqd": 1
    },
    {
      "fieldname": "author_name",
      "fieldtype": "Data",
      "label": "Author Name",
      "reqd": 1
    },
    {
      "fieldname": "author_email",
      "fieldtype": "Data",
      "label": "Author Email",
      "reqd": 1
    },
    {
      "fieldname": "content",
      "fieldtype": "Text",
      "label": "Comment",
      "reqd": 1
    },
    {
      "fieldname": "approved",
      "fieldtype": "Check",
      "label": "Approved",
      "default": 0
    }
  ]
}
```

#### 3. Server-side Operations

```typescript
// Get all published posts
const publishedPosts = await $zodula
  .doctype("Blog Post")
  .select()
  .where("published", "=", 1)
  .orderBy("publish_date", "desc");

// Create a new post
const newPost = await $zodula
  .doctype("Blog Post")
  .insert({
    title: "My First Post",
    content: "This is the content of my first blog post...",
    author: "USER-001",
    published: 1,
    publish_date: new Date()
  });

// Get comments for a specific post
const comments = await $zodula
  .doctype("Blog Comment")
  .select()
  .where("post", "=", "POST-001")
  .where("approved", "=", 1)
  .orderBy("creation", "desc");

// Add a comment
const newComment = await $zodula
  .doctype("Blog Comment")
  .insert({
    post: "POST-001",
    author_name: "John Doe",
    author_email: "john@example.com",
    content: "Great post! Thanks for sharing.",
    approved: 0
  });
```

## E-commerce Example

### Product Catalog with Categories

#### 1. Product Category DocType

```json
{
  "name": "Product Category",
  "module": "Ecommerce",
  "fields": [
    {
      "fieldname": "category_name",
      "fieldtype": "Data",
      "label": "Category Name",
      "reqd": 1
    },
    {
      "fieldname": "description",
      "fieldtype": "Text",
      "label": "Description"
    },
    {
      "fieldname": "parent_category",
      "fieldtype": "Link",
      "label": "Parent Category",
      "options": "Product Category"
    },
    {
      "fieldname": "is_active",
      "fieldtype": "Check",
      "label": "Active",
      "default": 1
    }
  ]
}
```

#### 2. Product DocType

```json
{
  "name": "Product",
  "module": "Ecommerce",
  "fields": [
    {
      "fieldname": "product_name",
      "fieldtype": "Data",
      "label": "Product Name",
      "reqd": 1
    },
    {
      "fieldname": "description",
      "fieldtype": "Text",
      "label": "Description"
    },
    {
      "fieldname": "category",
      "fieldtype": "Link",
      "label": "Category",
      "options": "Product Category",
      "reqd": 1
    },
    {
      "fieldname": "price",
      "fieldtype": "Currency",
      "label": "Price",
      "reqd": 1
    },
    {
      "fieldname": "stock_quantity",
      "fieldtype": "Int",
      "label": "Stock Quantity",
      "default": 0
    },
    {
      "fieldname": "is_active",
      "fieldtype": "Check",
      "label": "Active",
      "default": 1
    },
    {
      "fieldname": "images",
      "fieldtype": "Table",
      "label": "Images",
      "childtype": "Product Image"
    }
  ]
}
```

#### 3. Product Image Child Table

```json
{
  "name": "Product Image",
  "module": "Ecommerce",
  "istable": 1,
  "fields": [
    {
      "fieldname": "image",
      "fieldtype": "File",
      "label": "Image",
      "reqd": 1
    },
    {
      "fieldname": "is_primary",
      "fieldtype": "Check",
      "label": "Primary Image",
      "default": 0
    },
    {
      "fieldname": "alt_text",
      "fieldtype": "Data",
      "label": "Alt Text"
    }
  ]
}
```

## Project Management System

### Task Management with Relationships

#### 1. Project DocType

```json
{
  "name": "Project",
  "module": "Project Management",
  "fields": [
    {
      "fieldname": "project_name",
      "fieldtype": "Data",
      "label": "Project Name",
      "reqd": 1
    },
    {
      "fieldname": "description",
      "fieldtype": "Text",
      "label": "Description"
    },
    {
      "fieldname": "project_manager",
      "fieldtype": "Link",
      "label": "Project Manager",
      "options": "User",
      "reqd": 1
    },
    {
      "fieldname": "start_date",
      "fieldtype": "Date",
      "label": "Start Date"
    },
    {
      "fieldname": "end_date",
      "fieldtype": "Date",
      "label": "End Date"
    },
    {
      "fieldname": "status",
      "fieldtype": "Select",
      "label": "Status",
      "options": "Planning\nIn Progress\nOn Hold\nCompleted\nCancelled",
      "default": "Planning"
    }
  ]
}
```

#### 2. Task DocType

```json
{
  "name": "Task",
  "module": "Project Management",
  "fields": [
    {
      "fieldname": "task_name",
      "fieldtype": "Data",
      "label": "Task Name",
      "reqd": 1
    },
    {
      "fieldname": "project",
      "fieldtype": "Link",
      "label": "Project",
      "options": "Project",
      "reqd": 1
    },
    {
      "fieldname": "assigned_to",
      "fieldtype": "Link",
      "label": "Assigned To",
      "options": "User"
    },
    {
      "fieldname": "description",
      "fieldtype": "Text",
      "label": "Description"
    },
    {
      "fieldname": "priority",
      "fieldtype": "Select",
      "label": "Priority",
      "options": "Low\nMedium\nHigh\nCritical",
      "default": "Medium"
    },
    {
      "fieldname": "status",
      "fieldtype": "Select",
      "label": "Status",
      "options": "Open\nIn Progress\nReview\nDone",
      "default": "Open"
    },
    {
      "fieldname": "due_date",
      "fieldtype": "Date",
      "label": "Due Date"
    },
    {
      "fieldname": "estimated_hours",
      "fieldtype": "Float",
      "label": "Estimated Hours"
    },
    {
      "fieldname": "actual_hours",
      "fieldtype": "Float",
      "label": "Actual Hours"
    }
  ]
}
```

#### 3. Complex Queries

```typescript
// Get all tasks for a project with high priority
const highPriorityTasks = await $zodula
  .doctype("Task")
  .select()
  .where("project", "=", "PROJECT-001")
  .where("priority", "=", "High")
  .orderBy("due_date", "asc");

// Get overdue tasks
const overdueTasks = await $zodula
  .doctype("Task")
  .select()
  .where("due_date", "<", new Date())
  .where("status", "!=", "Done");

// Get project summary with task counts
const projectSummary = await $zodula
  .doctype("Project")
  .select()
  .where("status", "=", "In Progress")
  .include(["tasks"]); // This would include related tasks
```

## CRM System

### Customer and Contact Management

#### 1. Customer DocType

```json
{
  "name": "Customer",
  "module": "CRM",
  "fields": [
    {
      "fieldname": "customer_name",
      "fieldtype": "Data",
      "label": "Customer Name",
      "reqd": 1
    },
    {
      "fieldname": "customer_type",
      "fieldtype": "Select",
      "label": "Customer Type",
      "options": "Individual\nCompany",
      "reqd": 1
    },
    {
      "fieldname": "email",
      "fieldtype": "Data",
      "label": "Email"
    },
    {
      "fieldname": "phone",
      "fieldtype": "Data",
      "label": "Phone"
    },
    {
      "fieldname": "address",
      "fieldtype": "Text",
      "label": "Address"
    },
    {
      "fieldname": "industry",
      "fieldtype": "Data",
      "label": "Industry"
    },
    {
      "fieldname": "customer_group",
      "fieldtype": "Link",
      "label": "Customer Group",
      "options": "Customer Group"
    }
  ]
}
```

#### 2. Contact DocType

```json
{
  "name": "Contact",
  "module": "CRM",
  "fields": [
    {
      "fieldname": "first_name",
      "fieldtype": "Data",
      "label": "First Name",
      "reqd": 1
    },
    {
      "fieldname": "last_name",
      "fieldtype": "Data",
      "label": "Last Name",
      "reqd": 1
    },
    {
      "fieldname": "customer",
      "fieldtype": "Link",
      "label": "Customer",
      "options": "Customer"
    },
    {
      "fieldname": "email",
      "fieldtype": "Data",
      "label": "Email"
    },
    {
      "fieldname": "phone",
      "fieldtype": "Data",
      "label": "Phone"
    },
    {
      "fieldname": "designation",
      "fieldtype": "Data",
      "label": "Designation"
    },
    {
      "fieldname": "is_primary",
      "fieldtype": "Check",
      "label": "Primary Contact",
      "default": 0
    }
  ]
}
```

## Next Steps

- Learn about [Field Types](/core/field-types) for more complex data structures
- See [Deployment](/deployment) for production setup
